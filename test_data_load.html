<!DOCTYPE html>
<html>
<head>
    <title>Quick Test Data Loading</title>
</head>
<body>
    <h1>Quick Test</h1>
    <select id="strategySelect">
        <option value="">⏳ Loading strategies...</option>
    </select>
    <br><br>
    <select id="candleSelect">
        <option value="">⏳ Loading candles...</option>
    </select>
    <br><br>
    <button onclick="testLoad()">Test Load Data</button>
    
    <script>
    function testLoad() {
        console.log('Testing data load...');
        
        // Load strategies
        fetch('/list_strategies')
            .then(response => response.json())
            .then(result => {
                console.log('Strategies:', result);
                const select = document.getElementById('strategySelect');
                if (result.success && result.strategies) {
                    select.innerHTML = '<option value="">-- Choose Strategy --</option>';
                    result.strategies.forEach(strategy => {
                        const option = document.createElement('option');
                        option.value = strategy.symbol + '_' + strategy.timeframe + '_' + strategy.strategy_name + '_' + strategy.version;
                        option.textContent = strategy.symbol + ' ' + strategy.timeframe + ' - ' + strategy.strategy_name + ' ' + strategy.version;
                        select.appendChild(option);
                    });
                    console.log('✅ Loaded', result.strategies.length, 'strategies');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('strategySelect').innerHTML = '<option value="">❌ Error</option>';
            });
            
        // Load candles
        fetch('/list_candle_files')
            .then(response => response.json())
            .then(result => {
                console.log('Candles:', result);
                const select = document.getElementById('candleSelect');
                if (result.success && result.files) {
                    select.innerHTML = '<option value="">-- Choose Candle --</option>';
                    result.files.forEach(file => {
                        const option = document.createElement('option');
                        option.value = file;
                        option.textContent = file.replace('BINANCE_', '').replace('.db', '');
                        select.appendChild(option);
                    });
                    console.log('✅ Loaded', result.files.length, 'candle files');
                }
            })
            .catch(error => {
                console.error('Error:', error);
                document.getElementById('candleSelect').innerHTML = '<option value="">❌ Error</option>';
            });
    }
    
    // Auto-load on page ready
    setTimeout(testLoad, 500);
    </script>
</body>
</html>